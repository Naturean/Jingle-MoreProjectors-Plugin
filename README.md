# Jingle More Projectors Plugin（Jingle更多投影插件）

一个能够通过自定义配置来控制OBS投影的Jingle插件。

## 如何使用？

- 前往Release页面下载最新版本的jar文件（中文版为zh_CN）。
- 将插件jar文件拖放至Jingle的插件文件夹，然后重启Jingle。
- 在Jingle -> Plugin -> More Projectors页面，你会看到一个添加按钮，用于添加OBS投影。
- 点击添加按钮。
- 输入投影名字然后点击添加窗口的添加按钮。
- 你成功添加了一个投影！现在你可以随意编辑或移除它。

## 设置

### Enable（启用）

- 勾选时启用该投影。
- 如果禁用，则与移除的表现相同。

### Name（名称）

- 就是投影的名称，你可以随时更改。
- 投影的名称必须与OBS投影相一致，但无需前缀（例如“窗口投影（场景） - ”），只需要其名称。
- 如果你想启用下面介绍的“自动开启”选项，那么投影必须是一个**场景**。

### 自动开启

- `自动开启投影`会自动打开你的OBS投影。
- 点击OBS -> 工具 -> 脚本 -> '+' (加号标志)，然后添加`%userprofile%/.config/Jingle/more-projectors-plugin/more-projectors-obs-link.lua`脚本文件以启用“自动开启”功能。

### 热键

- `始终激活`会一直激活投影。
  - 但这仍然受到实例状态的影响，详见后文的`激活条件`。
  - 当该选项启用时，`管理热键`会被禁用。
- `管理热键`可以让你设置单个或多个热键以切换投影的激活状态
  - 点击热键列下的“+”按钮以添加新热键。
  - 点击热键列下的热键按钮以设置热键，与Jingle的热键类似。
- `忽略修饰键`告诉热键是否应该忽略如Ctrl、Alt、Shift等修饰键。

### 激活条件

- `实例状态`定义了投影能在什么实例状态下激活。
  - **等待**：实例未打开或未聚焦。
  - **标题**：在游戏的标题界面。
  - **世界内**：正在一个世界内游玩。
  - **墙**：正在多开墙的界面。
- `世界内状态`定义了当实例状态为“世界内”时，投影能在世界内的什么状态下激活。
  - **未暂停**：当游戏未暂停，且没有打开游戏内界面时。
  - **暂停**：当游戏暂停时（ESC、F3加ESC）。
  - **游戏界面打开**：当有游戏内界面打开时（例如合成界面）。
- 默认可激活时的实例状态为“世界内”，世界内状态为“未暂停”和“暂停”（与Jingle的resizing条件相同）。
- 当所有状态都选中时，投影可在任何时候激活。
- 当没有选中任何状态时，投影无法被激活。

### 窗口几何

- `位置`是指投影的位置，与Jingle -> OBS -> Position一致。
- `大小`是指投影的大小，与Jingle -> OBS -> Size一致。
- 两者的单位都是像素。

### 窗口裁剪

- 窗口裁剪能够让你裁剪投影窗口。
- `Top (Bottom, Left, Right)`分别表示从顶部（底部、左侧、右侧）边缘开始需要裁剪多少像素。
- 如果你不想看到窗口的黑边，那这非常有用。

### 其他

- `无边框`告诉插件是否在找到投影窗口时进行无边框化。
- `激活时置顶`会在投影激活时将其置顶。
- `取消激活时最小化`会在投影取消激活时将其最小化。
- `当不同热键激活时取消激活状态`会在不同热键激活时将取消该投影的激活状态。
  - 举个例子，假设`G`是该投影的热键，简称为`G-投影`。现在如果我们有另一个`H-投影`，当你按`H`激活它时，`G-投影`将会被停用。
  - 如果你想通过按某一热键来停用所有投影，那么可以添加一个“空投影”。将其命名为与OBS场景不同的其他名字，然后添加一个未使用的热键，你就可以按热键以停用所有投影。当你在resize的时候会有所用。例如，当你从thin bt（找宝藏时的resize）切换到测眼时，假设你设置了thin bt时的投影但测眼时没有投影。想要停用thin bt时的投影，你可以设置一个与测眼热键一致的空投影。

## 反馈

目前该插件未开发完全，必然有许多的问题。

如果你遇到任何问题，请随时在Issues板块下报告。

## 特别感谢

该项目很大程度上参考了[Jingle](https://github.com/DuncanRuns/Jingle)和[Jingle-CalcOverlay-Plugin](https://github.com/marin774/Jingle-CalcOverlay-Plugin)。

作为一名Java萌新，阅读他们的源码给了我很多帮助。